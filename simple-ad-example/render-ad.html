<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello GPT</title>
    <!-- Load Google Publisher Tag aka GPT or googletag -->
    <!-- https://developers.google.com/publisher-tag/guides/get-started -->
    <!-- Once GPT has loaded it will process any queued functions in the googletag.cmd array -->
    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
    <script>
        // Ensure window.googletag.cmd is available
        window.googletag = window.googletag || {cmd: []};
        const sizes = {
          billboard: [970, 250],
          leaderboard: [728, 90],
          mpu: [300, 250],
        }
        // Queue commands to GPT
        googletag.cmd.push(function() {
          const slot = googletag
            // Define an ad slot with: ad unit path, sizes, div.id
            // https://developers.google.com/publisher-tag/reference#googletag.defineSlot
            .defineSlot('/59666047/theguardian.com/world/article/ng', [Object.values(sizes)], 'ad-slot')               
            // Add a service to the slot e.g. pubads service
            .addService(googletag.pubads());
          // Define size mappings i.e. desired ad sizes for given breakpoints
          // https://developers.google.com/publisher-tag/guides/ad-sizes
          slot.defineSizeMapping(
            [
              [[1024, 768], [sizes.billboard, sizes.leaderboard]],
              [[640, 480], [sizes.mpu]],
              [[0, 0], []]
            ]
          );
          // Add slot level custom targeting
          slot.setTargeting('keywords', ['tutorial', 'intro', 'gpt']);
          slot.setTargeting('visits', '24');
          // Enable all GPT services
          googletag.enableServices();
        });
      </script>
  </head>
  <body>
    <div id="ad-slot">
        <script>
          // Display the specified slot id
          googletag.cmd.push(function() {
            googletag.display('ad-slot');
          });
        </script>
      </div>
  </body>
</html>